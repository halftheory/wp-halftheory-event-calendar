(function(c,g){if("object"===typeof eventcalendar){loadMap=function(d,a){var b=eventcalendar.prefix+"-map-"+a.data("id");if(!c("#"+b).length)return!1;if(0<c("#"+b).children().length)return b;if("openstreetmap"==d&&eventcalendar.openstreetmap_src)c("#"+b).addClass("loading"),c("<iframe></iframe>").attr("src",eventcalendar.openstreetmap_src).appendTo("#"+b),c("#"+b).removeClass("loading");else if("google"==d&&"undefined"!==typeof google&&"function"===typeof google.maps.Map){c("#"+b).addClass("loading");
var e={lat:parseFloat(a.data("latitude")),lng:parseFloat(a.data("longitude"))},f=new google.maps.Map(document.getElementById(b),{zoom:12,center:e,mapTypeId:google.maps.MapTypeId.ROADMAP,zoomControl:!0});new google.maps.Marker({position:e,map:f});c("#"+b).removeClass("loading")}else return!1;return b};var f={openstreetmap:1,google:2},e={};eventcalendar_init=function(){if("undefined"===typeof d&&"undefined"!==typeof window.eventcalendar)var d=window.eventcalendar;d.maps_load_startup&&c("."+d.prefix+
"-map-toggle").each(function(a){loadMap(d.maps_provider,c(this))});c("body").on("click","."+d.prefix+"-map-toggle",function(a){a.preventDefault();a=loadMap(d.maps_provider,c(this));if(!1!==a){e[a]||(e[a]=0);e[a]++;if(e[a]<f[d.maps_provider])return!1;var b=c("#"+a).first();b.hasClass("map-open")?b.removeClass("map-open").slideUp("fast").addClass("map-close"):b.removeClass("map-close").slideDown("fast").addClass("map-open");e[a]=0}return!1})};c(document).ready(function(){eventcalendar_init()})}})(jQuery);