var geo_search_apply;
jQuery(document).ready(function(a){if("object"===typeof postmeta){if("undefined"!==typeof a.fn.datetimepicker){var e={datepicker:!0,timepicker:!0,format:"d-m-Y H:i"};a("#"+postmeta.prefix+"_date_start").datetimepicker(e);a("#"+postmeta.prefix+"_date_end").datetimepicker(e)}a("#"+postmeta.prefix+"_geo_search").keydown(function(b){if(13===b.keyCode)return b.preventDefault(),a("#"+postmeta.prefix+"_geo_search_button").click(),!1});a("#"+postmeta.prefix+"_geo_search_button").click(function(b){b.preventDefault();b=
a("#"+postmeta.prefix+"_geo_search").val();var d=a("#"+postmeta.prefix+"_geo_search_result");if(""===b)return d.fadeOut("fast"),!1;b={action:postmeta.prefix+"_geo_search",q:b};d.fadeOut("fast",function(){a(this).html("Loading...")}).fadeIn("fast");a.post(postmeta.ajaxurl,b,function(b){var f="";for(c in b){var c=b[c];void 0!=c.lat&&void 0!=c.lon&&void 0!=c.display_name&&(f+="<p><a onclick=\"geo_search_apply('"+c.display_name.replace("'","&apos;").replace('"',"&quot;")+"','"+c.lat+"','"+c.lon+"');\">",
void 0!=c.icon&&(f+='<img src="'+c.icon+'" alt="'+c.type+'" /> '),f+=c.display_name+"</a></p>")}d.fadeOut("fast",function(){a(this).html(f)}).fadeIn("fast")},"json");return!1});geo_search_apply=function(b,d,e){a("#"+postmeta.prefix+"_geo_address").val(b);a("#"+postmeta.prefix+"_geo_latitude").val(d);a("#"+postmeta.prefix+"_geo_longitude").val(e);a("#"+postmeta.prefix+"_geo_search_result").fadeOut("fast")};a("."+postmeta.prefix+"-toggle").click(function(b){b.preventDefault();elem=a(this).parent().parent().find("."+
postmeta.prefix);"object"===typeof elem&&(elem.is(":visible")?elem.slideUp("fast"):elem.slideDown("fast"));return!1})}});